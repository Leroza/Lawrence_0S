<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starting Up...</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Tahoma:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --xp-blue: #245edc;
            --xp-blue-dark: #003399;
            --xp-blue-light: #3b75d4;
            --xp-welcome-bg-start: #0040b8;
            --xp-welcome-bg-end: #3d80e2;
            --xp-login-bg-start: #3d59a0;
            --xp-login-bg-end: #0c256d;
            --main-green: #00e038;
            --dark-green: #007a1e;
            --bg-color: #0d0d0d;
            --window-bg: #1a1a1a;
        }

        body {
            font-family: 'Tahoma', sans-serif;
            overflow: hidden;
            user-select: none;
            margin: 0;
            padding: 0;
            background: #000;
        }

        /* CRT Monitor Effect */
        body::after {
            content: " ";
            display: block;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0.25),
                rgba(0, 0, 0, 0.25) 1px,
                transparent 1px,
                transparent 3px
            );
            pointer-events: none;
            z-index: 9999;
            animation: flicker 0.1s infinite;
        }

        @keyframes flicker {
            0% { opacity: 0.9; }
            50% { opacity: 1; }
            100% { opacity: 0.9; }
        }
        
        /* XP Boot Screen Styles */
        #xp-boot-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 200;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 1s ease-in-out;
        }

        #xp-logo {
            width: 300px;
            color: #fff;
            margin-bottom: 30px;
        }

        #xp-logo .version {
            font-size: 24px;
            font-weight: normal;
            letter-spacing: 1.5px;
        }
        #xp-logo .xp {
             font-size: 60px;
             font-style: italic;
             font-weight: bold;
             background: linear-gradient(to right, #ccc, #fff, #ccc);
             -webkit-background-clip: text;
             -webkit-text-fill-color: transparent;
        }

        #progress-bar-container {
            width: 300px;
            height: 18px;
            background: linear-gradient(to bottom, #072c60, #0a428c);
            border: 1px solid #000;
            border-radius: 10px;
            padding: 2px;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
        }

        #progress-bar {
            width: 100%;
            height: 100%;
            overflow: hidden;
            border-radius: 8px;
        }

        #progress-bar-inner {
            width: 300px; /* Same as container */
            height: 100%;
            background: linear-gradient(to right, #359f48, #86e47b, #359f48);
            transform: translateX(-100%);
            animation: scroll-progress 4s linear infinite;
        }

        @keyframes scroll-progress {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Login Screen Styles */
        #login-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(to bottom, var(--xp-login-bg-start) 0%, var(--xp-login-bg-end) 100%);
            opacity: 0;
            transition: opacity 1s ease-in-out;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        #login-main-panel {
            display: flex;
            align-items: center;
        }

        #login-branding {
            text-align: center;
            padding-right: 50px;
        }

        .login-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            font-weight: bold;
            font-style: italic;
        }

        .login-logo .logo-text {
            line-height: 1;
        }
        
        .login-logo .logo-xp {
            font-size: 1.5rem;
            vertical-align: super;
            margin-left: 5px;
        }

        .login-logo .win-flag {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
        }

        .win-flag > div { border-radius: 2px; }
        .win-flag .red { background-color: #f33a14; }
        .win-flag .green { background-color: #7db400; }
        .win-flag .blue { background-color: #00a4ef; }
        .win-flag .yellow { background-color: #ffb900; }
        
        #login-branding .subtitle,
        #login-branding .instruction {
            font-size: 1.1rem;
            margin-top: 10px;
        }

        #login-branding .instruction {
            margin-top: 25px;
        }

        .separator {
            width: 2px;
            height: 150px;
            background: rgba(255, 255, 255, 0.3);
        }
        
        #user-profile {
            cursor: pointer;
            padding: 20px 20px 20px 50px;
            display: flex;
            align-items: center;
            gap: 20px;
            border-radius: 5px;
        }

        #user-profile:hover {
            background: linear-gradient(to right, rgba(0, 160, 255, 0.2), rgba(0, 80, 255, 0.2));
        }

        #user-profile img {
            width: 64px;
            height: 64px;
            border: 2px solid white;
            border-radius: 5px;
        }

        #user-profile .user-details .name {
            font-size: 1.5em;
            margin: 0;
            font-weight: bold;
        }
         #user-profile .user-details .subtitle {
            font-size: 1em;
            margin: 0;
        }

        /* Hacked Sequence Styles */
        #xp-welcome-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at top left, var(--xp-welcome-bg-end), var(--xp-welcome-bg-start));
            z-index: 150;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 4em;
            font-weight: bold;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
            letter-spacing: 2px;
        }
        
        .glitching-text {
            animation: textGlitch 0.3s infinite;
        }

        /* NEW: Styles for the split text effect */
        #xp-welcome-screen h1 {
            position: relative;
            color: transparent; /* Hide original text */
        }

        #xp-welcome-screen h1::before,
        #xp-welcome-screen h1::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            color: white;
        }

        #xp-welcome-screen h1::before {
            clip-path: polygon(0 0, 100% 0, 100% 50%, 0 50%);
        }

        #xp-welcome-screen h1::after {
            clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0 100%);
        }
        
        /* NEW: Animation triggers */
        #xp-welcome-screen.glitching {
             animation: glitch-border 0.5s linear infinite;
        }
        
        #xp-welcome-screen.glitching h1::before {
            animation: glitch-top 1s linear infinite reverse;
        }

        #xp-welcome-screen.glitching h1::after {
            animation: glitch-bottom 1.5s linear infinite reverse;
        }
        

        @keyframes textGlitch {
            0% { transform: translate(0, 0); color: white; }
            10% { transform: translate(-2px, 2px); color: #ff00ff; }
            20% { transform: translate(2px, -2px); color: #00ffff; }
            30% { transform: translate(0, 0); color: white; }
            80% { transform: translate(0, 0); color: white; }
            90% { transform: translate(2px, 2px); color: #ff00ff; }
            100% { transform: translate(0, 0); color: white; }
        }

        /* NEW: Keyframe Animations */
        @keyframes glitch-border {
            0% { box-shadow: 0 0 0 2px cyan, inset 0 0 0 2px cyan; }
            10% { box-shadow: 0 0 0 2px red, inset 0 0 0 2px red, 5px 5px 0 2px cyan, inset -5px -5px 0 2px cyan; }
            20% { box-shadow: 0 0 0 2px cyan, inset 0 0 0 2px cyan; }
            40% { box-shadow: 0 0 0 2px red, inset 0 0 0 2px red, -5px -5px 0 2px cyan, inset 5px 5px 0 2px cyan; }
            60% { box-shadow: 0 0 0 2px cyan, inset 0 0 0 2px cyan; }
            80% { box-shadow: 0 0 0 2px red, inset 0 0 0 2px red, 5px -5px 0 2px cyan, inset -5px 5px 0 2px cyan; }
            100% { box-shadow: 0 0 0 2px cyan, inset 0 0 0 2px cyan; }
        }

        @keyframes glitch-top {
            0% { transform: translate(0, 0); }
            10% { transform: translate(5px, -5px); }
            20% { transform: translate(-5px, 5px); }
            30% { transform: translate(5px, 5px); }
            40% { transform: translate(-5px, -5px); }
            50% { transform: translate(0, 0); }
            60% { transform: translate(10px, -2px); }
            70% { transform: translate(-10px, 2px); }
            80% { transform: translate(0, 0); }
            90% { transform: translate(-5px, 5px); }
            100% { transform: translate(0, 0); }
        }

        @keyframes glitch-bottom {
            0% { transform: translate(0, 0); }
            10% { transform: translate(-5px, 5px); }
            20% { transform: translate(5px, -5px); }
            30% { transform: translate(-5px, -5px); }
            40% { transform: translate(5px, 5px); }
            50% { transform: translate(0, 0); }
            60% { transform: translate(-10px, 2px); }
            70% { transform: translate(10px, -2px); }
            80% { transform: translate(0, 0); }
            90% { transform: translate(5px, -5px); }
            100% { transform: translate(0, 0); }
        }


        .warning-popup { position: fixed; border: 2px solid var(--main-green); background: var(--window-bg); color: var(--main-green); box-shadow: 4px 4px 0px rgba(0, 224, 56, 0.2); width: 300px; z-index: 101; padding: 10px; font-family: 'VT323', monospace; }
        .warning-popup .title-bar { background: var(--dark-green); color: var(--bg-color); padding: 5px; font-weight: bold; display: flex; justify-content: space-between; }
        .warning-popup .body { padding: 20px; text-align: center; font-size: 1.2em; }
        #final-popup { width: 450px; text-align: center; }
        #final-popup .body a { display: inline-block; margin-top: 20px; padding: 10px 20px; background: var(--main-green); color: var(--bg-color); text-decoration: none; border: 1px solid var(--main-green); }
        #final-popup .body a:hover { background: var(--dark-green); color: var(--main-green); }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="xp-boot-screen">
        <div id="xp-logo">
            <span style="font-family: 'Tahoma', sans-serif;">
                Microsoft <br>
                <span style="font-size: 32px; font-weight: bold;">Windows<sub style="font-size:20px; font-weight:normal;">XP</sub></span>
            </span>
        </div>
        <div id="progress-bar-container">
            <div id="progress-bar">
                <div id="progress-bar-inner"></div>
            </div>
        </div>
    </div>

    <div id="login-wrapper" class="hidden">
        <div id="login-main-panel">
            <div id="login-branding">
                <div class="login-logo">
                    <div class="win-flag">
                        <div class="red"></div>
                        <div class="green"></div>
                        <div class="blue"></div>
                        <div class="yellow"></div>
                    </div>
                    <span class="logo-text">Lawrence<span class="logo-xp">XP</span></span>
                </div>
                <p class="subtitle">Visual Designer</p>
                <p class="instruction">To begin, click on your name to log in</p>
            </div>
            <div class="separator"></div>
            <div id="user-profile">
                <img src="https://placehold.co/64x64/3b75d4/FFFFFF?text=USER" alt="User Profile Icon">
                <div class="user-details">
                    <p class="name">Lawrence</p>
                    <p class="subtitle">Visual Designer</p>
                </div>
            </div>
        </div>
    </div>
    
    <div id="xp-welcome-screen" class="hidden">
        <h1 data-text="Welcome">Welcome</h1>
    </div>

    <div id="glitch-container" class="hidden"></div>
    <div id="popups-container"></div>

    <script>
        // Audio Context
        let audioCtx;

        // Boot Screen Elements
        const bootScreen = document.getElementById('xp-boot-screen');
        const loginWrapper = document.getElementById('login-wrapper');
        const userProfile = document.getElementById('user-profile');
        const xpWelcomeScreen = document.getElementById('xp-welcome-screen');
        const popupsContainer = document.getElementById('popups-container');

        // --- BOOT SEQUENCE ---
        function runBootSequence() {
            setTimeout(() => {
                bootScreen.style.opacity = '0';
                loginWrapper.classList.remove('hidden');
                setTimeout(() => {
                    bootScreen.classList.add('hidden');
                    loginWrapper.style.opacity = '1';
                }, 1000);
            }, 4500);
        }
        
        // --- AUDIO ---
        function playAlertSound() {
            if (!audioCtx) return;
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            oscillator.type = 'square';
            oscillator.frequency.setValueAtTime(880, audioCtx.currentTime); 
            gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.2);
            oscillator.start(audioCtx.currentTime);
            oscillator.stop(audioCtx.currentTime + 0.2);
        }

        // --- HACKED SEQUENCE ---
        const warningMessages = [
            { title: "ERROR_0xDEADBEEF", body: "KERNEL_PANIC: System integrity compromised." },
            { title: "WARNING", body: "Malware Detected: trojan.js" },
            { title: "SYSTEM ALERT", body: "Unauthorized Access Attempt!" },
            { title: "CRITICAL_FAILURE", body: "Root access granted to unknown entity." },
            { title: "SECURITY BREACH", body: "Firewall disabled." }
        ];

        function createPopup(content) {
            const popup = document.createElement('div');
            popup.className = 'warning-popup';
            popup.innerHTML = `
                <div class="title-bar"><span>${content.title}</span><span>X</span></div>
                <div class="body">${content.body}</div>`;
            popup.style.top = `${Math.random() * (window.innerHeight - 150)}px`;
            popup.style.left = `${Math.random() * (window.innerWidth - 320)}px`;
            return popup;
        }

        userProfile.addEventListener('click', () => {
            // Initialize Audio Context on user interaction
            if (!audioCtx) {
                try {
                    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                } catch (e) {
                    console.error("Web Audio API is not supported in this browser");
                }
            }
            
            // --- LOGIN SCREEN GLITCH ---
            const loginBrandingSubtitle = document.querySelector('#login-branding .subtitle');
            const userProfileName = document.querySelector('#user-profile .name');
            const userProfileSubtitle = document.querySelector('#user-profile .user-details .subtitle');
            const loginLogoText = document.querySelector('.login-logo .logo-text');
            
            const elementsToGlitch = [loginBrandingSubtitle, userProfileName, userProfileSubtitle, loginLogoText];
            elementsToGlitch.forEach(el => el.classList.add('glitching-text'));

            const originalTexts = {
                brandingSubtitle: loginBrandingSubtitle.textContent,
                profileName: userProfileName.textContent,
                profileSubtitle: userProfileSubtitle.textContent,
                logoText: loginLogoText.innerHTML,
            };

            const glitchLanguages = [
                'ローレンスXP', '로렌스XP', 'ЛоуренсXP', 'لورانسXP', '劳伦斯XP',
                'LαwrεncεXP', 'ŁąŵŗęŉċëXP', 'L̷a̷w̷r̷e̷n̷c̷e̷X̷P̷', 'LคwгєภςєXP',
                'L̲a̲w̲r̲e̲n̲c̲e̲X̲P̲', 'L0r3nc3XP', 'SYSTEM_ERROR'
            ];

            let glitchInterval = setInterval(() => {
                loginBrandingSubtitle.textContent = Math.random() > 0.5 ? originalTexts.brandingSubtitle : "did you made this?";
                userProfileName.textContent = Math.random() > 0.5 ? originalTexts.profileName : "mystery";
                userProfileSubtitle.textContent = Math.random() > 0.5 ? originalTexts.profileSubtitle : "????????";
                
                const randomLang = glitchLanguages[Math.floor(Math.random() * glitchLanguages.length)];
                loginLogoText.innerHTML = randomLang;

            }, 150);


            setTimeout(() => {
                clearInterval(glitchInterval);
                elementsToGlitch.forEach(el => el.classList.remove('glitching-text'));
                loginBrandingSubtitle.textContent = originalTexts.brandingSubtitle;
                userProfileName.textContent = originalTexts.profileName;
                userProfileSubtitle.textContent = originalTexts.profileSubtitle;
                loginLogoText.innerHTML = originalTexts.logoText;

                // --- Proceed to main hacked sequence ---
                loginWrapper.style.opacity = '0';
                setTimeout(() => {
                    loginWrapper.classList.add('hidden');
                    xpWelcomeScreen.classList.remove('hidden');

                    setTimeout(() => {
                        // This class now triggers all the new glitch animations
                        xpWelcomeScreen.classList.add('glitching');

                        setTimeout(() => {
                            xpWelcomeScreen.classList.add('hidden');
                            document.body.style.background = '#000'; // Blink to black

                            setTimeout(() => {
                                document.body.style.background = 'var(--bg-color)';
                                
                                const startTime = Date.now();
                                let warningCount = 0;

                                function displayWarningsLoop() {
                                    if (Date.now() - startTime < 5000) { // Loop for 5 seconds
                                        playAlertSound();
                                        const message = warningMessages[warningCount % warningMessages.length];
                                        popupsContainer.appendChild(createPopup(message));
                                        warningCount++;
                                        setTimeout(displayWarningsLoop, 250); // Fire warnings even faster
                                    } else {
                                        // Stop the loop and show the final message
                                        popupsContainer.innerHTML = ''; 
                                        const finalMessage = {
                                            title: "Message from A Creative Mind",
                                            body: `<p>Don't worry, your system is fine.</p>
                                                   <p>welcome to your unusual experience.</p>
                                                   <p>If you like what you see, my real portfolio is just a click away.</p>
                                                   <a href="transition.html">ENTER PORTFOLIO</a>`
                                        };
                                        const finalPopup = createPopup(finalMessage);
                                        finalPopup.id = 'final-popup';
                                        finalPopup.style.top = '50%';
                                        finalPopup.style.left = '50%';
                                        finalPopup.style.transform = 'translate(-50%, -50%)';
                                        popupsContainer.appendChild(finalPopup);
                                    }
                                }
                                displayWarningsLoop(); // Start the loop
                            }, 200);

                        }, 1200); // Increased duration for the new effect to be visible

                    }, 500);

                }, 500);

            }, 2000); // Duration of the login screen glitch
        });

        // --- START THE PROCESS ---
        window.onload = runBootSequence;

    </script>
</body>
</html>